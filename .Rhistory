library(stringr)
x <- str_replace(bankdata$年月, "/" , "")
library(base)
y <- as.integer(x)
(y+191100)
as.character(y)
library(stringr)
library(lubridate)
library(stringr)
x <- str_replace(bankdata$年月, "/" , "")
library(base)
y <- as.integer(x)
(y+191100)
as.character(y)
ymd(y)
library(stringr)
library(lubridate)
library(stringr)
x <- str_replace(bankdata$年月, "/" , "")
library(base)
y <- as.integer(x)
(y+191100)
as.character(y)
str_split(y,"-")
ibrary(stringr)
library(stringr)
x <-str_sub(bankdata$年月,1,3)
library(base)
y <- as.integer(x)
z <- ( y + 1911)
library(stringr)
x <-str_sub(bankdata$年月,1,3)
library(base)
y <- as.integer(x)
z <- ( y + 1911)
x1 <-str_sub(bankdata$年月,5,6)
str(z,z1,sep'-')
library(stringr)
x <-str_sub(bankdata$年月,1,3)
library(base)
y <- as.integer(x)
z <- ( y + 1911)
as.character(z)
x1 <-str_sub(bankdata$年月,5,6)
str(z,x1,sep'-')
library(stringr)
x <-str_sub(bankdata$年月,1,3)
library(base)
y <- as.integer(x)
z <- ( y + 1911)
as.character(z)
x1 <-str_sub(bankdata$年月,5,6)
str(z,x1,sep='-')
library(stringr)
x <-str_sub(bankdata$年月,1,3)
library(base)
y <- as.integer(x)
z <- ( y + 1911)
as.character(z)
x1 <-str_sub(bankdata$年月,5,6)
as.character(x1)
str(z,x1,sep='-')
library(stringr)
x <-str_sub(bankdata$年月,1,3)
library(base)
y <- as.integer(x)
z <- ( y + 1911)
as.character(z)
x1 <-str_sub(bankdata$年月,5,6)
as.character(x1)
str('z','x1',sep='-')
library(stringr)
x <-str_sub(bankdata$年月,1,3)
library(base)
y <- as.integer(x)
z <- ( y + 1911)
as.character(z)
x1 <-str_sub(bankdata$年月,5,6)
as.character(x1)
str('z','x1',sep='-')
library(stringr)
x <-str_sub(bankdata$年月,1,3)
library(base)
y <- as.integer(x)
z <- ( y + 1911)
as.character(z)
x1 <-str_sub(bankdata$年月,5,6)
as.character(x1)
str_c('z','x1',sep='-')
grep("Taipei",OlsonNames(),value=TRUE)
library(lubridate)
grep("Taipei",OlsonNames(),value=TRUE)
f<-ymd_hm(2018/30/08 00:00)
library(lubridate)
grep("Taipei",OlsonNames(),value=TRUE)
f<-ymd_hm("2018/30/08 00:00")
library(lubridate)
grep("Taipei",OlsonNames(),value=TRUE)
f<-ymd_hm("2018/30/09 00:00")
library(lubridate)
grep("Taipei",OlsonNames(),value=TRUE)
f<-ymd_hm("2018/30/09 00:00 UTC")
library(lubridate)
grep("Taipei",OlsonNames(),value=TRUE)
f<-ymd_hm("2018/30/09 00:00")
library(lubridate)
grep("Taipei",OlsonNames(),value=TRUE)
f<-ymd_hm("2018/30/09 00:00")
library(lubridate)
grep("Taipei",OlsonNames(),value=TRUE)
f<-ydm_hm("2018/30/09 00:00")
with
library(lubridate)
grep("Taipei",OlsonNames(),value=TRUE)
f<-ydm_hm("2018/30/09 00:00")
with_tz(f,Asia/Taipei)->f
library(lubridate)
grep("Taipei",OlsonNames(),value=TRUE)
f<-ydm_hm("2018/30/09 00:00")
with_tz(f,Asia/Taipei)->f
library(lubridate)
grep("Taipei",OlsonNames(),value=TRUE)
f<-ydm_hm("2018/30/09 00:00 UTC")
with_tz(f,Asia/Taipei)->f
library(lubridate)
grep("Taipei",OlsonNames(),value=TRUE)
f<-ydm_hm("2018/30/09 00:00 UTC")
with_tz(f,Asia/Taipei)->f
library(lubridate)
grep("Taipei",OlsonNames(),value=TRUE)
f<-ydm_hm("2018/30/09 00:00 UTC")
with_tz(f,"Asia/Taipei")->f
library(stringr)
x <-str_sub(bankdata$年月,1,3)
library(base)
y <- as.integer(x)
z <- ( y + 1911)
as.character(z)
x1 <-str_sub(bankdata$年月,5,6)
as.character(x1)
str_c('z','x1',sep='-')
library(stringr)
x <-str_sub(bankdata$年月,1,3)
library(base)
y <- as.integer(x)
z <- ( y + 1911)
as.character(z)
x1 <-str_sub(bankdata$年月,5,6)
as.character(x1)
str_c(z,x1,sep='-')
library(stringr)
x <-str_sub(bankdata$年月,1,3)
library(base)
y <- as.integer(x)
z <- ( y + 1911)
as.character(z)
x1 <-str_sub(bankdata$年月,5,6)
as.character(x1)
str_c(z,x1,sep='-')->西元年月
library(stringr)
x <-str_sub(bankdata$年月,1,3)
library(base)
y <- as.integer(x)
z <- ( y + 1911)
as.character(z)
x1 <-str_sub(bankdata$年月,5,6)
as.character(x1)
str_c(z,x1,sep='-')->西元年月
library(stringr)
x <-str_sub(bankdata$年月,1,3)
library(base)
y <- as.integer(x)
z <- ( y + 1911)
as.character(z)
x1 <-str_sub(bankdata$年月,5,6)
as.character(x1)
str_c(z,x1,sep='-')->西元年月
lubridate::ymd(西元年月)
library(stringr)
x <-str_sub(bankdata$年月,1,3)
library(base)
y <- as.integer(x)
z <- ( y + 1911)
as.character(z)
x1 <-str_sub(bankdata$年月,5,6)
as.character(x1)
str_c(z,x1,sep='-')->西元年月
lubridate::ym(西元年月)
library(stringr)
x <-str_sub(bankdata$年月,1,3)
library(base)
y <- as.integer(x)
z <- ( y + 1911)
as.character(z)
x1 <-str_sub(bankdata$年月,5,6)
as.character(x1)
str_c(z,x1,sep='-')->西元年月
lubridate::ymd(西元年月)
library(googlesheets)
gsSurvey<-gs_key("1mC9bnxj11NCNoOCw0Vmn4nxERbHtLjeGo9v9C9b2GDE")  #download sheet information as an object
classSurvey<-gs_read(gsSurvey,ws=1) #access the 1st worksheet
library(stringr)
aa<-(str_sub(classSurvey$居住地行政區,1,3))
classSurvey[aa == "台北市",3]
classSurvey[aa=="台北市",c("姓名")]
classSurvey[aa=="台北市",c("姓名")]->bb
classSurvey[aa=="台北市",c("姓名")]->cc
StuDF <- data.frame(
StuID=c(1,2,3,4,5),
name=c("小明","大雄","胖虎","小新","大白"),
score=c(80,60,90,70,50)
)
StuDF
classSurvey[aa=="台北市",c("姓名")]->cc
class(cc)
cc$姓名[3]
names(gsSurvey)
names(gsSurvey)
gsSurvey$links$type
names(StuDF)
names(StuDF) <- c("學號","姓名","成績")
names(StuDF)
StuDF <- data.frame(
StuID=c(1,2,3,4,5),
name=c("小明","大雄","胖虎","小新","大白"),
score=c(80,60,90,70,50)
)
StuDF
names(StuDF)
names(StuDF)[2]<-c("姓名")
names(StuDF)
library(readr)
student <- read_csv("https://raw.githubusercontent.com/tpemartin/course-107-1-programming-for-data-science/master/data/student.csv")
library(dplyr)
library(magrittr)
student %<>% mutate(
身高級距=cut(身高,c(0,150,155,160,165,170,175,180,185,200)))
levels(student$身高級距)
View(student)
names(student$身高級距)[1:5]->c("小個子")
names(dd)[1:5]->c("小個子")
levels(student$身高級距)->dd
names(dd)[1:5]->c("小個子")
levels(student$身高級距)->dd
names(dd)[1:5]
levels(student$身高級距)->dd
levels(student$身高級距)
levels(student$身高級距)[1:5]->c("小個子")
levels(student$身高級距)[1]->c("小個子")
levels(student$身高級距)[1]->c("小個子")
levels(student$身高級距)[c(1:5)]->c("小個子")
levels(student$身高級距)->c("小個子","小個子","小個子","小個子","小個子","中等個子","中等個子","高個子","高個子")
levels(student$身高級距)<-c("小個子","小個子","小個子","小個子","小個子","中等個子","中等個子","高個子","高個子")
student$新身高級距 <- student$身高級距
student$新身高級距 <- student$身高級距
levels(student$身高級距)[1:3]<-c(0,160]
student$新身高級距 <- student$身高級距
levels(student$新身高級距)[1:3]<-c(0,160]
student$新身高級距 <- student$身高級距
levels(student$新身高級距)[1:3]<-"(0,160]"
dim(classSurvey)
View(classSurvey)
as.factor(classSurvey$學號)->年級
classSurvey$學號->a
classSurvey$學號->a
as.character(a)->a
classSurvey$學號->a
as.character(a)->a
str_sub(a,1,5)->a
classSurvey$學號->a
as.character(a)->a
str_sub(a,1,5)->a
levels(a)
classSurvey$學號->a
as.character(a)->a
str_sub(a,1,5)->a
levels(a)->b
classSurvey$學號->a
as.character(a)->a
str_sub(a,1,5)->a
levels(41047,41057,41067,41077)->c("大四","大三","大二","大一")
classSurvey$學號->a
as.character(a)->a
str_sub(a,1,5)->a
as.factor(a)
classSurvey$學號->a
as.character(a)->a
str_sub(a,1,4)->a
as.factor(a)
classSurvey$學號->a
as.character(a)->a
str_sub(a,1,4)->a
as.factor(a)
levels(a)->c("大四","大三","大二","大一")
classSurvey$學號->a
as.character(a)->a
str_sub(a,1,4)->a
as.factor(a)
levels(a)[1:4]->c("大四","大三","大二","大一")
classSurvey$學號->a
as.character(a)->a
str_sub(a,1,4)->a
as.factor(a)->classSurvey$年級
levels(classSurvey$年級)[1:4]->c("大四","大三","大二","大一")
classSurvey$學號->a
as.character(a)->a
str_sub(a,1,4)->a
as.factor(a)->classSurvey$年級
levels(classSurvey$年級)->c("大四","大三","大二","大一")
classSurvey$學號->a
as.character(a)->a
str_sub(a,1,4)->a
as.factor(a)->classSurvey$年級
levels(classSurvey$年級)<-c("大四","大三","大二","大一")
table(classSurvey$年級)
length(classSurvey$年級=="大二","大三","大四")
length(classSurvey$年級==!"大一")
length(classSurvey$年級=="大二")
column(classSurvey$年級=="大二")
ncolumn(classSurvey$年級=="大二")
dim(classSurvey$年級=="大二")
length(classSurvey$年級=="大二")
classSurvey$年級=="大二"
classSurvey$年級=="大二"->c
classSurvey$年級=="大二"->c
length(c)
classSurvey$年級=="大二"->c
as.character(classSurvey$年級=="大二")
as.character(classSurvey$年級=="大二")->c
as.character(classSurvey$年級=="大二")->c
table(c)
classSurvey$性別=="男"&classSurvey$年級=="大二"
as.factor(classSurvey$性別=="男"&classSurvey$年級=="大二")
as.factor(classSurvey$性別=="男"&classSurvey$年級=="大二")->b
table()
as.factor(classSurvey$性別=="男"&classSurvey$年級=="大二")->b
table(b)
as.factor(classSurvey$性別=="男"&classSurvey$年級=="大二")->b
table(b)
as.factor(classSurvey$性別=="男"&classSurvey$年級=="大三")->c
table(c)
as.factor(classSurvey$性別=="男"&classSurvey$年級=="大四")->d
table(d)
as.factor(classSurvey$性別=="男"&classSurvey$年級=="大二")->b
table(b)
as.factor(classSurvey$性別=="男"&classSurvey$年級=="大三")->c
table(c)
as.factor(classSurvey$性別=="男"&classSurvey$年級=="大四")->d
table(d)
as.factor(classSurvey$年級=="大二"|classSurvey$年級=="大三"|classSurvey$年級=="大四")->e
table(e)
as.factor(classSurvey$性別=="男"&classSurvey$年級=="大二")->b
table(b)
as.factor(classSurvey$性別=="男"&classSurvey$年級=="大三")->c
table(c)
as.factor(classSurvey$性別=="男"&classSurvey$年級=="大四")->d
table(d)
as.factor(classSurvey$年級=="大二"|classSurvey$年級=="大三"|classSurvey$年級=="大四")->e
table(e)
5/14
as.factor(classSurvey$性別=="男"&classSurvey$年級=="大二")->b
table(b)
as.factor(classSurvey$性別=="男"&classSurvey$年級=="大三")->c
table(c)
as.factor(classSurvey$性別=="男"&classSurvey$年級=="大四")->d
table(d)
as.factor(classSurvey$年級=="大二"|classSurvey$年級=="大三"|classSurvey$年級=="大四")->e
table(e)
percent(5/14)
install.packages("scales")
as.factor(classSurvey$性別=="男"&classSurvey$年級=="大二")->b
table(b)
as.factor(classSurvey$性別=="男"&classSurvey$年級=="大三")->c
table(c)
as.factor(classSurvey$性別=="男"&classSurvey$年級=="大四")->d
table(d)
as.factor(classSurvey$年級=="大二"|classSurvey$年級=="大三"|classSurvey$年級=="大四")->e
table(e)
percent(5/14)
as.factor(classSurvey$性別=="男"&classSurvey$年級=="大二")->b
table(b)
as.factor(classSurvey$性別=="男"&classSurvey$年級=="大三")->c
table(c)
as.factor(classSurvey$性別=="男"&classSurvey$年級=="大四")->d
table(d)
as.factor(classSurvey$年級=="大二"|classSurvey$年級=="大三"|classSurvey$年級=="大四")->e
table(e)
5/14
classSurvey$本學期目前已參加之課外活動
classSurvey[classSurvey$年級=="大一",3]
classSurvey[classSurvey$年級=="大一",classSurvey$本學期目前已參加之課外活動]
classSurvey[classSurvey$年級=="大一",8]
classSurvey[classSurvey$年級=="大一",8]->f
table(f)
classSurvey[classSurvey$年級=="大一",8]->f
library(stringr)
str_split_fixed(f,",",n=5)->g
classSurvey[classSurvey$年級=="大一",8]->f
as.character(f)
library(stringr)
str_split_fixed(f,",",n=5)->g
f<-classSurvey$本學期目前已參加之課外活動[classSurvey$年級=="大一"]
library(stringr)
str_split_fixed(f,",",n=5)->g
f<-classSurvey$本學期目前已參加之課外活動[classSurvey$年級=="大一"]
str_split_fixed(f,",",n=5)->g
f<-classSurvey$本學期目前已參加之課外活動[classSurvey$年級=="大一"]
str_split_fixed(f,",",n=5)->g
str_c(g)->gg
f<-classSurvey$本學期目前已參加之課外活動[classSurvey$年級=="大一"]
str_split_fixed(f,",",n=5)->g
str_c(g)->gg
table(gg)
f<-classSurvey$本學期目前已參加之課外活動[classSurvey$年級=="大一"]
str_split_fixed(f,",",n=5)->g
as.character(g)->gg
table(gg)
f<-classSurvey$本學期目前已參加之課外活動[classSurvey$年級=="大一"]
str_split_fixed(f,",",n=5)->g
as.character(g)->gg
table(gg)
f<-classSurvey$本學期目前已參加之課外活動[classSurvey$年級=="大一"]
str_split_fixed(f,",",n=5)->g
str_c(g)->gg
table(gg)
as.factor(classSurvey$性別=="男"&classSurvey$年級=="大一")->bb
table(bb)
as.factor(classSurvey$性別=="男"&classSurvey$年級=="大一")->bb
table(bb)
11/45*100%
as.factor(classSurvey$性別=="男"&classSurvey$年級=="大一")->bb
table(bb)
11/45*100 %
as.factor(classSurvey$性別=="男"&classSurvey$年級=="大一")->bb
table(bb)
11/45*100
as.factor(classSurvey$性別=="男"&classSurvey$年級=="大一")->bb
table(bb)
sprintf("%.1f%%", 11/45 * 100)
as.factor(classSurvey$性別=="男"&classSurvey$年級=="大二")->b
table(b)
as.factor(classSurvey$性別=="男"&classSurvey$年級=="大三")->c
table(c)
as.factor(classSurvey$性別=="男"&classSurvey$年級=="大四")->d
table(d)
as.factor(classSurvey$年級=="大二"|classSurvey$年級=="大三"|classSurvey$年級=="大四")->e
table(e)
sprintf("%.1f%%", 5/14 * 100)
str_sub(classSurvey$居住地行政區,1,3)
str_sub(classSurvey$居住地行政區,1,3)->h
table(h)
knitr::opts_chunk$set(echo = TRUE,message=FALSE,error=FALSE,eval=FALSE)
library(klippy)
install.packages("klippy")
knitr::opts_chunk$set(echo = TRUE,message=FALSE,error=FALSE,eval=FALSE)
library(klippy)
knitr::opts_chunk$set(echo = TRUE,message=FALSE,error=FALSE,eval=FALSE)
library(klippy)
knitr::opts_chunk$set(echo = TRUE,message=FALSE,error=FALSE,eval=FALSE)
library(klippy)
install.packages("klippy")
library(readr); library(dplyr); library(stringr); library(lubridate)
as.factor(classSurvey$性別)->classSurvey$性別
str_sub(hwGrades$學號,2,4)
classSurvey <- read_csv("https://raw.githubusercontent.com/tpemartin/github-data/master/midterm-data/classSurvey.csv")
hwGrades <- read_csv("https://raw.githubusercontent.com/tpemartin/github-data/master/midterm-data/hwGrades.csv")
as.factor(classSurvey$性別)->classSurvey$性別
str_sub(hwGrades$學號,2,4)
經一B學生 <- c("小花","小咪","小李")
飲料店工讀生 <- c("陳小明","小李")
飲料店工讀生 %in% 經一B學生
hwGrades$學號 %in% classSurvey$學號
which(classSurvey$學號=="4104d245c7")
which(hwGrades$學號=="4104d245c7")
hwGrades[39,4]
table(classSurvey$性別)/nrow(classSurvey)
classSurvey$課外活動
classSurvey$課外活動
str_detect(classSurvey$課外活動,"團隊活動")
classSurvey$課外活動
sum(str_detect(classSurvey$課外活動,"團隊活動"))
classSurvey$性別=="女"->classSurvey$isFemale
classSurvey[classSurvey$isFemale,]->subsample
aaa <- c("a","b",NA)
is.na(aaa)
aaa <- c("a","b",NA)
is.na(aaa)
aaa==NA
is.na(hwGrades$hw1)
is.na(hwGrades$hw1)
is.na(hwGrades$hw2)
is.na(hwGrades$Exercise3)
is.na(hwGrades$hw1)+
is.na(hwGrades$hw2)+
is.na(hwGrades$Exercise3)
is.na(hwGrades$hw1)+
is.na(hwGrades$hw2)+
is.na(hwGrades$Exercise3) ->hwGrades$交作業次數
3-(is.na(hwGrades$hw1)+
is.na(hwGrades$hw2)+
is.na(hwGrades$Exercise3)) ->hwGrades$交作業次數
3-(is.na(hwGrades$hw1)+
is.na(hwGrades$hw2)+
is.na(hwGrades$Exercise3)) ->hwGrades$交作業次數
!is.na(hwGrades$hw1)+
!is.na(hwGrades$hw2)+
!is.na(hwGrades$Exercise3) ->hwGrades$交作業次數
hwGrades
hwGrades[,c("hw1","hw2","Exercise3"]
hwGrades[ ,c("hw1","hw2","Exercise3"]
hwGrades[ ,c("hw1","hw2","Exercise3")]
rowSums(hwGrades[ ,c("hw1","hw2","Exercise3")],na.rm=T)
